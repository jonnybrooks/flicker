"use strict";!function(){function e(e,s){return _.animation=e,q.setAttribute("max",_.animation.frames.length-1),q.addEventListener("input",u.throttle(i)),u.waitOnImages(s)}function s(e){return _.playing?("forward"===_.direction?e>=_.animation.frames.length?(_.playing=!1,console.log("animation completed forward")):(r(e),e++):"reverse"===_.direction&&(0>e?(_.playing=!1,console.log("animation completed reverse")):(r(e),e--)),setTimeout(requestAnimationFrame.bind(null,s.bind(null,e)),1e3/24),_):_}function r(e){var s=document.querySelector('.sprites img[src="flicker/'+[_.animation.frames[e].src]+'"]');_.currentSprite=s,_.currentFrame=e,y.drawImage(s,-1*_.animation.frames[e].x,-1*_.animation.frames[e].y)}function c(e){var r=e||_.currentFrame;return _.playing=!0,_.direction="forward",s(r),_}function p(e){var r=e||_.currentFrame;return _.playing=!0,_.direction="reverse",s(r),_}function t(){return _.playing=!1,_}function n(e){return _._delay+=e,{play:function(){return setTimeout(_.play,1e3*_._delay),_},reverse:function(){return setTimeout(_.reverse,1e3*_._delay),_},pause:function(){return setTimeout(_.pause,1e3*_._delay),_},wait:function(){return setTimeout(_.wait,1e3*_._delay),_}}}function i(){return t(),r(this.getAttribute("value")),_}var u={waitOnImages:function(e){var s=[];s.push=function(){Array.prototype.push.apply(this,arguments),this.length>=x.length&&(console.log("loading done"),e(_))};for(var r=0;r<x.length;r++)x[r].onload=function c(e){x[e].complete?s.push(x[e]):setTimeout(c.bind(null,e),10)}(r)},throttle:function(e,s,r){s||(s=100);var c,p;return function(){var t=r||this,n=+new Date,i=arguments;c&&c+s>n?(clearTimeout(p),p=setTimeout(function(){c=n,e.apply(t,i)},s)):(c=n,e.apply(t,i))}}},g=document.querySelector("#flicker canvas"),y=g.getContext("2d"),x=Array.prototype.slice.call(document.querySelectorAll("#flicker .sprites img")),q=document.querySelector(".seek input"),_={animation:{},playing:!0,forward:!0,currentFrame:0,currentSprite:x[0].src,playThrough:!0,init:e,play:c,reverse:p,pause:t,wait:n,_delay:0};window.Flicker=_}(window);var animation={frames:[{src:"sequence001_sprite.jpg",x:0,y:0},{src:"sequence001_sprite.jpg",x:1120,y:0},{src:"sequence001_sprite.jpg",x:2240,y:0},{src:"sequence001_sprite.jpg",x:3360,y:0},{src:"sequence001_sprite.jpg",x:4480,y:0},{src:"sequence001_sprite.jpg",x:5600,y:0},{src:"sequence001_sprite.jpg",x:6720,y:0},{src:"sequence001_sprite.jpg",x:7840,y:0},{src:"sequence001_sprite.jpg",x:8960,y:0},{src:"sequence001_sprite.jpg",x:0,y:840},{src:"sequence001_sprite.jpg",x:1120,y:840},{src:"sequence001_sprite.jpg",x:2240,y:840},{src:"sequence001_sprite.jpg",x:3360,y:840},{src:"sequence001_sprite.jpg",x:4480,y:840},{src:"sequence001_sprite.jpg",x:5600,y:840},{src:"sequence001_sprite.jpg",x:6720,y:840},{src:"sequence001_sprite.jpg",x:7840,y:840},{src:"sequence001_sprite.jpg",x:8960,y:840},{src:"sequence001_sprite.jpg",x:0,y:1680},{src:"sequence001_sprite.jpg",x:1120,y:1680},{src:"sequence001_sprite.jpg",x:2240,y:1680},{src:"sequence001_sprite.jpg",x:3360,y:1680},{src:"sequence001_sprite.jpg",x:4480,y:1680},{src:"sequence001_sprite.jpg",x:5600,y:1680},{src:"sequence001_sprite.jpg",x:6720,y:1680},{src:"sequence001_sprite.jpg",x:7840,y:1680},{src:"sequence001_sprite.jpg",x:8960,y:1680},{src:"sequence001_sprite.jpg",x:0,y:2520},{src:"sequence001_sprite.jpg",x:1120,y:2520},{src:"sequence001_sprite.jpg",x:2240,y:2520},{src:"sequence001_sprite.jpg",x:3360,y:2520},{src:"sequence001_sprite.jpg",x:4480,y:2520},{src:"sequence001_sprite.jpg",x:5600,y:2520},{src:"sequence001_sprite.jpg",x:6720,y:2520},{src:"sequence001_sprite.jpg",x:7840,y:2520},{src:"sequence001_sprite.jpg",x:8960,y:2520},{src:"sequence001_sprite.jpg",x:0,y:3360},{src:"sequence001_sprite.jpg",x:1120,y:3360},{src:"sequence001_sprite.jpg",x:2240,y:3360},{src:"sequence001_sprite.jpg",x:3360,y:3360},{src:"sequence001_sprite.jpg",x:4480,y:3360},{src:"sequence001_sprite.jpg",x:5600,y:3360},{src:"sequence001_sprite.jpg",x:6720,y:3360},{src:"sequence001_sprite.jpg",x:7840,y:3360},{src:"sequence001_sprite.jpg",x:8960,y:3360},{src:"sequence001_sprite.jpg",x:0,y:4200},{src:"sequence001_sprite.jpg",x:1120,y:4200},{src:"sequence001_sprite.jpg",x:2240,y:4200},{src:"sequence001_sprite.jpg",x:3360,y:4200},{src:"sequence001_sprite.jpg",x:4480,y:4200},{src:"sequence001_sprite.jpg",x:5600,y:4200},{src:"sequence001_sprite.jpg",x:6720,y:4200},{src:"sequence001_sprite.jpg",x:7840,y:4200},{src:"sequence001_sprite.jpg",x:8960,y:4200},{src:"sequence001_sprite.jpg",x:0,y:5040},{src:"sequence001_sprite.jpg",x:1120,y:5040},{src:"sequence001_sprite.jpg",x:2240,y:5040},{src:"sequence001_sprite.jpg",x:3360,y:5040},{src:"sequence001_sprite.jpg",x:4480,y:5040},{src:"sequence001_sprite.jpg",x:5600,y:5040},{src:"sequence001_sprite.jpg",x:6720,y:5040},{src:"sequence001_sprite.jpg",x:7840,y:5040},{src:"sequence001_sprite.jpg",x:8960,y:5040},{src:"sequence001_sprite.jpg",x:0,y:5880},{src:"sequence001_sprite.jpg",x:1120,y:5880},{src:"sequence001_sprite.jpg",x:2240,y:5880},{src:"sequence001_sprite.jpg",x:3360,y:5880},{src:"sequence001_sprite.jpg",x:4480,y:5880},{src:"sequence001_sprite.jpg",x:5600,y:5880},{src:"sequence001_sprite.jpg",x:6720,y:5880},{src:"sequence001_sprite.jpg",x:7840,y:5880},{src:"sequence001_sprite.jpg",x:8960,y:5880},{src:"sequence001_sprite.jpg",x:0,y:6720},{src:"sequence001_sprite.jpg",x:1120,y:6720},{src:"sequence001_sprite.jpg",x:2240,y:6720},{src:"sequence001_sprite.jpg",x:3360,y:6720},{src:"sequence001_sprite.jpg",x:4480,y:6720},{src:"sequence001_sprite.jpg",x:5600,y:6720},{src:"sequence002_sprite.jpg",x:0,y:0},{src:"sequence002_sprite.jpg",x:1120,y:0},{src:"sequence002_sprite.jpg",x:2240,y:0},{src:"sequence002_sprite.jpg",x:3360,y:0},{src:"sequence002_sprite.jpg",x:4480,y:0},{src:"sequence002_sprite.jpg",x:5600,y:0},{src:"sequence002_sprite.jpg",x:6720,y:0},{src:"sequence002_sprite.jpg",x:7840,y:0},{src:"sequence002_sprite.jpg",x:8960,y:0},{src:"sequence002_sprite.jpg",x:0,y:840},{src:"sequence002_sprite.jpg",x:1120,y:840},{src:"sequence002_sprite.jpg",x:2240,y:840},{src:"sequence002_sprite.jpg",x:3360,y:840},{src:"sequence002_sprite.jpg",x:4480,y:840},{src:"sequence002_sprite.jpg",x:5600,y:840},{src:"sequence002_sprite.jpg",x:6720,y:840},{src:"sequence002_sprite.jpg",x:7840,y:840},{src:"sequence002_sprite.jpg",x:8960,y:840},{src:"sequence002_sprite.jpg",x:0,y:1680},{src:"sequence002_sprite.jpg",x:1120,y:1680},{src:"sequence002_sprite.jpg",x:2240,y:1680},{src:"sequence002_sprite.jpg",x:3360,y:1680},{src:"sequence002_sprite.jpg",x:4480,y:1680},{src:"sequence002_sprite.jpg",x:5600,y:1680},{src:"sequence002_sprite.jpg",x:6720,y:1680},{src:"sequence002_sprite.jpg",x:7840,y:1680},{src:"sequence002_sprite.jpg",x:8960,y:1680},{src:"sequence002_sprite.jpg",x:0,y:2520},{src:"sequence002_sprite.jpg",x:1120,y:2520},{src:"sequence002_sprite.jpg",x:2240,y:2520},{src:"sequence002_sprite.jpg",x:3360,y:2520},{src:"sequence002_sprite.jpg",x:4480,y:2520},{src:"sequence002_sprite.jpg",x:5600,y:2520},{src:"sequence002_sprite.jpg",x:6720,y:2520},{src:"sequence002_sprite.jpg",x:7840,y:2520},{src:"sequence002_sprite.jpg",x:8960,y:2520},{src:"sequence002_sprite.jpg",x:0,y:3360},{src:"sequence002_sprite.jpg",x:1120,y:3360},{src:"sequence002_sprite.jpg",x:2240,y:3360},{src:"sequence002_sprite.jpg",x:3360,y:3360},{src:"sequence002_sprite.jpg",x:4480,y:3360},{src:"sequence002_sprite.jpg",x:5600,y:3360},{src:"sequence002_sprite.jpg",x:6720,y:3360},{src:"sequence002_sprite.jpg",x:7840,y:3360},{src:"sequence002_sprite.jpg",x:8960,y:3360},{src:"sequence002_sprite.jpg",x:0,y:4200},{src:"sequence002_sprite.jpg",x:1120,y:4200},{src:"sequence002_sprite.jpg",x:2240,y:4200},{src:"sequence002_sprite.jpg",x:3360,y:4200},{src:"sequence002_sprite.jpg",x:4480,y:4200},{src:"sequence002_sprite.jpg",x:5600,y:4200},{src:"sequence002_sprite.jpg",x:6720,y:4200},{src:"sequence002_sprite.jpg",x:7840,y:4200},{src:"sequence002_sprite.jpg",x:8960,y:4200},{src:"sequence002_sprite.jpg",x:0,y:5040},{src:"sequence002_sprite.jpg",x:1120,y:5040},{src:"sequence002_sprite.jpg",x:2240,y:5040},{src:"sequence002_sprite.jpg",x:3360,y:5040},{src:"sequence002_sprite.jpg",x:4480,y:5040},{src:"sequence002_sprite.jpg",x:5600,y:5040},{src:"sequence002_sprite.jpg",x:6720,y:5040},{src:"sequence002_sprite.jpg",x:7840,y:5040},{src:"sequence002_sprite.jpg",x:8960,y:5040},{src:"sequence002_sprite.jpg",x:0,y:5880},{src:"sequence002_sprite.jpg",x:1120,y:5880}]};Flicker.init(animation,function(){Flicker.play().wait(2).pause().wait(3).reverse()});
"use strict";
